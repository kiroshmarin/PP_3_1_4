<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">


    <title>Пользователи</title>
</head>
<body>
<div class="container-fluid">

                            <div>
                                <table th:border="1">
                                    <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Фамилия</th>
                                        <th>Имя</th>
                                        <th>Возраст</th>
                                        <th>Email/Login</th>
                                        <th>Права доступа</th>
                                        <th>Действия</th>
                                    </tr>
                                    </thead>
                                    <tbody th:each="user : ${users}">
                                    <tr>
                                        <td th:text="${user.getId()}"></td>
                                        <td th:text="${user.getLastName()}"></td>
                                        <td th:text="${user.getName()}"></td>
                                        <td th:text="${user.getAge()}"></td>
                                        <td th:text="${user.getEmail}"></td>
                                        <td>
                                           <span th:each="role : ${user.getRoles()}" th:text="${role.getName()} + '; '"></span>
                                        </td>



                                            <td>
                                                <form style="display: inline-block" th:action="@{/admin/{id}/edit(id=${user.getId()})}">
                                                    <input type="submit" value="Изменить"> </form>

                                                <form style="display: inline-block" th:method="DELETE" th:action="@{/admin/{id}(id=${user.getId()})}">
                                                    <input type="submit" value="Удалить"></form>
                                            </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <br/>
                            <hr/>
                            <form th:action="@{/admin/new}">
                                <input type="submit" value="Добавить нового пользователя">
                            </form>

                            <form th:method="POST" th:action="@{/logout}">
                                <input type="submit" value="LOGOUT">
                            </form>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
</body>
</html>